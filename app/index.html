<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="description" content="">
        <meta name="keywords" content="">        

        <title>Front End Developer Interview Questions worksheet</title>		

        <link rel="stylesheet" media="screen" href="assets/css/app.css">     
        <script type="text/javascript">
           
        function saveEdits() {
    
            var answers =  $('.answer');
            var myArray = [ ]; //empty myArray

            for (var i = 0; i < answers.length; i++) {
                
                var self = answers[i];
                myArray.push(self.innerHTML);
                // console.log(myArray);


                


                //save array to local storage
                localStorage.setItem('questions', JSON.stringify(myArray));
            }
        //write a confirmation to the user
        document.getElementById("update").innerHTML="Saved!";
        $('#update').fadeOut( 2000, "swing" );   

        }





        // on pageload, check storage for edits
        function checkEdits() {

            var answers =  $('.answer');
            var myArray = [];

        //find out if the user has previously saved edits
        if(localStorage.questions!==null)
            myArray = localStorage.getItem('questions');
            // console.log(myArray);

            for (var i = 0; i < answers.length; i++) {
                var self = answers[i];
                oldAnswers = JSON.parse(myArray);
                
                self.innerHTML = oldAnswers[i];


                console.log(oldAnswers[i]);

            }
            
        }

        function dropFocus(){
          $(".answer").blur();
        }
        </script> 
  <meta charset="utf-8">
  <title>JS BIN</title>
</head>
<!-- <body onload=""> -->
<body onload="checkEdits()">
  
 

<div class="container main">

<h1>Interview Questions</h1>
<ul>

    <!-- Question 1  -->
    <li >
        <input type="checkbox" checked>
        <i></i>
        <h2>What did you learn yesterday/this week?</h2>
        
        <!--  this first answer works because I'm selecting with an id, how can I save all of the answers that were edited on the page to localStorage? An array?  -->
        <p class="answer" id="a0"  contenteditable="true">Answer 1</p>
    </li>
    <!-- Question 2 -->
    <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>What excites or interests you about coding?</h2>
        <p class="answer" id="a1"  contenteditable="true">Answer 2</p>
    </li>
    <!-- Question 3  -->
    <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>What UI, Security, Performance, SEO, Maintainability or Technology considerations do you make while building a web application or site?</h2>
        <p class="answer" id="a2"  contenteditable="true">Answer 3</p>
    </li>
    <!-- Question 4  -->
    <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Talk about your preferred development environment. (OS, Editor or IDE, Browsers, Tools etc.)</h2>
        <p class="answer" id="a3"  contenteditable="true">Answer 4</p>
    </li>
    <!-- Question 5  -->
    <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Which version control systems are you familiar with?</h2>
        <p class="answer" id="a4"  contenteditable="true">Answer goes here</p>
    </li>
</ul>
<!-- Save button -->
<div class="save">
    <input id="save" type="button" class="btn btn-primary" value="save my edits" onclick="saveEdits()"/>
</div>
<div class="container">
    <p id="update"> Edit the text and click to save for next time</p>
</div>
</div>


		<script src="assets/js/app.min.js"></script>	


		
    </body>
</html>